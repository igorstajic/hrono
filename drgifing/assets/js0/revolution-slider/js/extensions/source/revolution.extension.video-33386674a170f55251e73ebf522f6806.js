!function(e){function t(e){return void 0==e?-1:jQuery.isNumeric(e)?e:e.split(":").length>1?60*parseInt(e.split(":")[0],0)+parseInt(e.split(":")[1],0):e}var a=jQuery.fn.revolution,i=a.is_mobile();jQuery.extend(!0,a,{resetVideo:function(e,a){switch(e.data("videotype")){case"youtube":e.data("player");try{if("on"==e.data("forcerewind")&&!i){var o=t(e.data("videostartat"));o=-1==o?0:o,e.data("player").seekTo(o),e.data("player").pauseVideo()}}catch(d){}0==e.find(".tp-videoposter").length&&punchgs.TweenLite.to(e.find("iframe"),.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut});break;case"vimeo":var n=$f(e.find("iframe").attr("id"));try{if("on"==e.data("forcerewind")&&!i){var o=t(e.data("videostartat"));o=-1==o?0:o,n.api("seekTo",o),n.api("pause")}}catch(d){}0==e.find(".tp-videoposter").length&&punchgs.TweenLite.to(e.find("iframe"),.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut});break;case"html5":if(i&&1==e.data("disablevideoonmobile"))return!1;var r=e.find("video"),s=r[0];if(punchgs.TweenLite.to(r,.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut}),"on"==e.data("forcerewind")&&!e.hasClass("videoisplaying"))try{var o=t(e.data("videostartat"));s.currentTime=-1==o?0:o}catch(d){}"mute"==e.data("volume")&&(s.muted=!0)}},stopVideo:function(e,t){switch(e.data("videotype")){case"youtube":try{var a=e.data("player");a.pauseVideo()}catch(i){}break;case"vimeo":try{var o=$f(e.find("iframe").attr("id"));o.api("pause")}catch(i){}break;case"html5":var d=e.find("video"),n=d[0];n.pause()}},playVideo:function(e,d){switch(clearTimeout(e.data("videoplaywait")),e.data("videotype")){case"youtube":if(0==e.find("iframe").length)e.append(e.data("videomarkup")),n(e,d,!0);else if(void 0!=e.data("player").playVideo){e.data("player").playVideo();var r=t(e.data("videostartat"));-1!=r&&e.data("player").seekTo(r)}else e.data("videoplaywait",setTimeout(function(){a.playVideo(e,d)},50));break;case"vimeo":if(0==e.find("iframe").length)e.append(e.data("videomarkup")),n(e,d,!0);else if(e.hasClass("rs-apiready")){var s=e.find("iframe").attr("id"),p=$f(s);void 0==p.api("play")?e.data("videoplaywait",setTimeout(function(){a.playVideo(e,d)},50)):setTimeout(function(){p.api("play");var a=t(e.data("videostartat"));-1!=a&&p.api("seekTo",a)},510)}else e.data("videoplaywait",setTimeout(function(){a.playVideo(e,d)},50));break;case"html5":if(i&&1==e.data("disablevideoonmobile"))return!1;var l=e.find("video"),v=l[0],u=l.parent();if(1!=u.data("metaloaded"))o(v,"loadedmetadata",function(e){a.resetVideo(e,d),v.play();var i=t(e.data("videostartat"));-1!=i&&(v.currentTime=i)}(e));else{v.play();var r=t(e.data("videostartat"));-1!=r&&(v.currentTime=r)}}},isVideoPlaying:function(e,t){var a=!1;return void 0!=t.playingvideos&&jQuery.each(t.playingvideos,function(t,i){e.attr("id")==i.attr("id")&&(a=!0)}),a},prepareCoveredVideo:function(e,t,a){var i=a.find("iframe, video"),o=e.split(":")[0],d=e.split(":")[1],n=a.closest(".tp-revslider-slidesli"),r=n.width()/n.height(),s=o/d,p=r/s*100,l=s/r*100;r>s?punchgs.TweenLite.to(i,.001,{height:p+"%",width:"100%",top:-(p-100)/2+"%",left:"0px",position:"absolute"}):punchgs.TweenLite.to(i,.001,{width:l+"%",height:"100%",left:-(l-100)/2+"%",top:"0px",position:"absolute"})},checkVideoApis:function(e,t,a){var i="https:"===location.protocol?"https":"http";if((void 0!=e.data("ytid")||e.find("iframe").length>0&&e.find("iframe").attr("src").toLowerCase().indexOf("youtube")>0)&&(t.youtubeapineeded=!0),(void 0!=e.data("ytid")||e.find("iframe").length>0&&e.find("iframe").attr("src").toLowerCase().indexOf("youtube")>0)&&0==a.addedyt){t.youtubestarttime=jQuery.now(),a.addedyt=1;var o=document.createElement("script");o.src="https://www.youtube.com/iframe_api";var d=document.getElementsByTagName("script")[0],n=!0;jQuery("head").find("*").each(function(){"https://www.youtube.com/iframe_api"==jQuery(this).attr("src")&&(n=!1)}),n&&d.parentNode.insertBefore(o,d)}if((void 0!=e.data("vimeoid")||e.find("iframe").length>0&&e.find("iframe").attr("src").toLowerCase().indexOf("vimeo")>0)&&(t.vimeoapineeded=!0),(void 0!=e.data("vimeoid")||e.find("iframe").length>0&&e.find("iframe").attr("src").toLowerCase().indexOf("vimeo")>0)&&0==a.addedvim){t.vimeostarttime=jQuery.now(),a.addedvim=1;var r=document.createElement("script"),d=document.getElementsByTagName("script")[0],n=!0;r.src=i+"://f.vimeocdn.com/js/froogaloop2.min.js",jQuery("head").find("*").each(function(){jQuery(this).attr("src")==i+"://a.vimeocdn.com/js/froogaloop2.min.js"&&(n=!1)}),n&&d.parentNode.insertBefore(r,d)}return a},manageVideoLayer:function(e,d,s,p){var l=e.data("videoattributes"),v=e.data("ytid"),u=e.data("vimeoid"),c=e.data("videpreload"),f=e.data("videomp4"),m=e.data("videowebm"),h=e.data("videoogv"),g=e.data("allowfullscreenvideo"),y=e.data("videocontrols"),w="http",b="loop"==e.data("videoloop")?"loop":"loopandnoslidestop"==e.data("videoloop")?"loop":"",k=void 0!=f||void 0!=m?"html5":void 0!=v&&String(v).length>1?"youtube":void 0!=u&&String(u).length>1?"vimeo":"none",T="html5"==k&&0==e.find("video").length?"html5":"youtube"==k&&0==e.find("iframe").length?"youtube":"vimeo"==k&&0==e.find("iframe").length?"vimeo":"none";switch(e.data("videotype",k),T){case"html5":"controls"!=y&&(y="");var x='<video style="object-fit:cover;background-size:cover;visible:hidden;width:100%; height:100%" class="" '+b+' preload="'+c+'">';void 0!=m&&"firefox"==a.get_browser().toLowerCase()&&(x=x+'<source src="'+m+'" type="video/webm" />'),void 0!=f&&(x=x+'<source src="'+f+'" type="video/mp4" />'),void 0!=h&&(x=x+'<source src="'+h+'" type="video/ogg" />'),x+="</video>";var L="";("true"===g||g===!0)&&(L='<div class="tp-video-button-wrap"><button  type="button" class="tp-video-button tp-vid-full-screen">Full-Screen</button></div>'),"controls"==y&&(x+='<div class="tp-video-controls"><div class="tp-video-button-wrap"><button type="button" class="tp-video-button tp-vid-play-pause">Play</button></div><div class="tp-video-seek-bar-wrap"><input  type="range" class="tp-seek-bar" value="0"></div><div class="tp-video-button-wrap"><button  type="button" class="tp-video-button tp-vid-mute">Mute</button></div><div class="tp-video-vol-bar-wrap"><input  type="range" class="tp-volume-bar" min="0" max="1" step="0.1" value="1"></div>'+L+"</div>"),e.data("videomarkup",x),e.append(x),(i&&1==e.data("disablevideoonmobile")||a.isIE(8))&&e.find("video").remove(),e.find("video").each(function(t){var i=this,n=jQuery(this);n.parent().hasClass("html5vid")||n.wrap('<div class="html5vid" style="position:relative;top:0px;left:0px;width:100%;height:100%; overflow:hidden;"></div>');var s=n.parent();1!=s.data("metaloaded")&&o(i,"loadedmetadata",function(e){r(e,d),a.resetVideo(e,d)}(e))});break;case"youtube":w="http","https:"===location.protocol&&(w="https"),"none"==y&&(l=l.replace("controls=1","controls=0"),-1==l.toLowerCase().indexOf("controls")&&(l+="&controls=0"));var C=t(e.data("videostartat")),V=t(e.data("videoendat"));-1!=C&&(l=l+"&start="+C),-1!=V&&(l=l+"&end="+V);var P=l.split("origin="+w+"://"),I="";P.length>1?(I=P[0]+"origin="+w+"://",self.location.href.match(/www/gi)&&!P[1].match(/www/gi)&&(I+="www."),I+=P[1]):I=l;var j="true"===g||g===!0?"allowfullscreen":"";e.data("videomarkup",'<iframe style="visible:hidden" src="'+w+"://www.youtube.com/embed/"+v+"?"+I+'" '+j+' width="100%" height="100%" style="width:100%;height:100%"></iframe>');break;case"vimeo":"https:"===location.protocol&&(w="https"),e.data("videomarkup",'<iframe style="visible:hidden" src="'+w+"://player.vimeo.com/video/"+u+"?"+l+'" width="100%" height="100%" style="100%;height:100%"></iframe>')}var O=1!=i&&"on"!=e.data("posterOnMobile")&&"on"!=e.data("posteronmobile")||i;void 0!=e.data("videoposter")&&e.data("videoposter").length>2&&O?(0==e.find(".tp-videoposter").length&&e.append('<div class="tp-videoposter noSwipe" style="cursor:pointer; position:absolute;top:0px;left:0px;width:100%;height:100%;z-index:3;background-image:url('+e.data("videoposter")+'); background-size:cover;background-position:center center;"></div>'),0==e.find("iframe").length&&e.find(".tp-videoposter").click(function(){if(a.playVideo(e,d),i){if(1==e.data("disablevideoonmobile"))return!1;punchgs.TweenLite.to(e.find(".tp-videoposter"),.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(e.find("iframe"),.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut})}})):0!=e.find("iframe").length||"youtube"!=k&&"vimeo"!=k||(e.append(e.data("videomarkup")),n(e,d,!1)),"none"!=e.data("dottedoverlay")&&void 0!=e.data("dottedoverlay")&&1!=e.find(".tp-dottedoverlay").length&&e.append('<div class="tp-dottedoverlay '+e.data("dottedoverlay")+'"></div>'),e.addClass("HasListener"),1==e.data("bgvideo")&&punchgs.TweenLite.set(e.find("video, iframe"),{autoAlpha:0})}});var o=function(e,t,a){e.addEventListener?e.addEventListener(t,a,!1):e.attachEvent(t,a,!1)},d=function(e,t,a){var i={};return i.video=e,i.videotype=t,i.settings=a,i},n=function(e,o,n){var r=e.find("iframe"),l="iframe"+Math.round(1e5*Math.random()+1),v=e.data("videoloop"),u="loopandnoslidestop"!=v;if(v="loop"==v||"loopandnoslidestop"==v,1==e.data("forcecover")){e.removeClass("fullscreenvideo").addClass("coverscreenvideo");var c=e.data("aspectratio");void 0!=c&&c.split(":").length>1&&a.prepareCoveredVideo(c,o,e)}if(r.attr("id",l),n&&e.data("startvideonow",!0),1!==e.data("videolistenerexist"))switch(e.data("videotype")){case"youtube":var f=new YT.Player(l,{events:{onStateChange:function(e){var a=e.target.getVideoEmbedCode(),i=jQuery("#"+a.split('id="')[1].split('"')[0]),n=i.closest(".tp-simpleresponsive"),r=i.parent(),l=i.parent().data("player");if(e.data==YT.PlayerState.PLAYING)punchgs.TweenLite.to(r.find(".tp-videoposter"),.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(r.find("iframe"),.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut}),"mute"==r.data("volume")?l.mute():(l.unMute(),l.setVolume(parseInt(r.data("volume"),0)||75)),o.videoplaying=!0,s(r,o),n.trigger("stoptimer"),o.c.trigger("revolution.slide.onvideoplay",d(l,"youtube",r.data()));else{if(0==e.data&&v){var u=t(r.data("videostartat"));-1!=u&&l.seekTo(u),l.playVideo()}(0==e.data||2==e.data)&&"on"==r.data("showcoveronpause")&&r.find(".tp-videoposter").length>0&&(punchgs.TweenLite.to(r.find(".tp-videoposter"),.3,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(r.find("iframe"),.3,{autoAlpha:0,ease:punchgs.Power3.easeInOut})),-1!=e.data&&3!=e.data&&(o.videoplaying=!1,p(r,o),n.trigger("starttimer"),o.c.trigger("revolution.slide.onvideostop",d(l,"youtube",r.data()))),0==e.data&&1==r.data("nextslideatend")?(o.c.revnext(),p(r,o)):(p(r,o),o.videoplaying=!1,n.trigger("starttimer"),o.c.trigger("revolution.slide.onvideostop",d(l,"youtube",r.data())))}},onReady:function(e){var a=e.target.getVideoEmbedCode(),o=jQuery("#"+a.split('id="')[1].split('"')[0]),d=o.parent(),n=d.data("videorate");d.data("videostart");if(d.addClass("rs-apiready"),void 0!=n&&e.target.setPlaybackRate(parseFloat(n)),d.find(".tp-videoposter").unbind("click"),d.find(".tp-videoposter").click(function(){i||f.playVideo()}),d.data("startvideonow")){d.data("player").playVideo();var r=t(d.data("videostartat"));-1!=r&&d.data("player").seekTo(r)}d.data("videolistenerexist",1)}}});e.data("player",f);break;case"vimeo":for(var m,h=r.attr("src"),g={},y=h,w=/([^&=]+)=([^&]*)/g;m=w.exec(y);)g[decodeURIComponent(m[1])]=decodeURIComponent(m[2]);h=void 0!=g.player_id?h.replace(g.player_id,l):h+"&player_id="+l;try{h=h.replace("api=0","api=1")}catch(b){}h+="&api=1",r.attr("src",h);var f=e.find("iframe")[0],k=(jQuery("#"+l),$f(l));k.addEvent("ready",function(){if(e.addClass("rs-apiready"),k.addEvent("play",function(t){e.data("nextslidecalled",0),punchgs.TweenLite.to(e.find(".tp-videoposter"),.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(e.find("iframe"),.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut}),o.c.trigger("revolution.slide.onvideoplay",d(k,"vimeo",e.data())),o.videoplaying=!0,s(e,o),u&&o.c.trigger("stoptimer"),"mute"==e.data("volume")?k.api("setVolume","0"):k.api("setVolume",parseInt(e.data("volume"),0)/100||.75)}),k.addEvent("playProgress",function(a){var i=t(e.data("videoendat"));if(0!=i&&Math.abs(i-a.seconds)<.3&&i>a.seconds&&1!=e.data("nextslidecalled"))if(v){k.api("play");var d=t(e.data("videostartat"));-1!=d&&k.api("seekTo",d)}else 1==e.data("nextslideatend")&&(e.data("nextslidecalled",1),o.c.revnext()),k.api("pause")}),k.addEvent("finish",function(t){p(e,o),o.videoplaying=!1,o.c.trigger("starttimer"),o.c.trigger("revolution.slide.onvideostop",d(k,"vimeo",e.data())),1==e.data("nextslideatend")&&o.c.revnext()}),k.addEvent("pause",function(t){e.find(".tp-videoposter").length>0&&"on"==e.data("showcoveronpause")&&(punchgs.TweenLite.to(e.find(".tp-videoposter"),.3,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(e.find("iframe"),.3,{autoAlpha:0,ease:punchgs.Power3.easeInOut})),o.videoplaying=!1,p(e,o),o.c.trigger("starttimer"),o.c.trigger("revolution.slide.onvideostop",d(k,"vimeo",e.data()))}),e.find(".tp-videoposter").unbind("click"),e.find(".tp-videoposter").click(function(){return i?void 0:(k.api("play"),!1)}),e.data("startvideonow")){k.api("play");var a=t(e.data("videostartat"));-1!=a&&k.api("seekTo",a)}e.data("videolistenerexist",1)})}else{var T=t(e.data("videostartat"));switch(e.data("videotype")){case"youtube":n&&(e.data("player").playVideo(),-1!=T&&e.data("player").seekTo());break;case"vimeo":if(n){var k=$f(e.find("iframe").attr("id"));k.api("play"),-1!=T&&k.api("seekTo",T)}}}},r=function(e,n,r){if(i&&1==e.data("disablevideoonmobile"))return!1;var l=e.find("video"),v=l[0],u=l.parent(),c=e.data("videoloop"),f="loopandnoslidestop"!=c;if(c="loop"==c||"loopandnoslidestop"==c,u.data("metaloaded",1),void 0==l.attr("control")&&(0!=e.find(".tp-video-play-button").length||i||e.append('<div class="tp-video-play-button"><i class="revicon-right-dir"></i><span class="tp-revstop">&nbsp;</span></div>'),e.find("video, .tp-poster, .tp-video-play-button").click(function(){e.hasClass("videoisplaying")?v.pause():v.play()})),1==e.data("forcecover")||e.hasClass("fullscreenvideo"))if(1==e.data("forcecover")){u.addClass("fullcoveredvideo");var m=e.data("aspectratio");a.prepareCoveredVideo(m,n,e)}else u.addClass("fullscreenvideo");var h=e.find(".tp-vid-play-pause")[0],g=e.find(".tp-vid-mute")[0],y=e.find(".tp-vid-full-screen")[0],w=e.find(".tp-seek-bar")[0],b=e.find(".tp-volume-bar")[0];void 0!=h&&(o(h,"click",function(){1==v.paused?v.play():v.pause()}),o(g,"click",function(){0==v.muted?(v.muted=!0,g.innerHTML="Unmute"):(v.muted=!1,g.innerHTML="Mute")}),y&&o(y,"click",function(){v.requestFullscreen?v.requestFullscreen():v.mozRequestFullScreen?v.mozRequestFullScreen():v.webkitRequestFullscreen&&v.webkitRequestFullscreen()}),o(w,"change",function(){var e=v.duration*(w.value/100);v.currentTime=e}),o(v,"timeupdate",function(){var a=100/v.duration*v.currentTime,i=t(e.data("videoendat")),o=v.currentTime;if(w.value=a,0!=i&&Math.abs(i-o)<=.3&&i>o&&1!=e.data("nextslidecalled"))if(c){v.play();var d=t(e.data("videostartat"));-1!=d&&(v.currentTime=d)}else 1==e.data("nextslideatend")&&(e.data("nextslidecalled",1),n.c.revnext()),v.pause()}),o(w,"mousedown",function(){e.addClass("seekbardragged"),v.pause()}),o(w,"mouseup",function(){e.removeClass("seekbardragged"),v.play()}),o(b,"change",function(){v.volume=b.value})),o(v,"play",function(){e.data("nextslidecalled",0),"mute"==e.data("volume")&&(v.muted=!0),e.addClass("videoisplaying"),s(e,n),f?(n.videoplaying=!0,n.c.trigger("stoptimer"),n.c.trigger("revolution.slide.onvideoplay",d(v,"html5",e.data()))):(n.videoplaying=!1,n.c.trigger("starttimer"),n.c.trigger("revolution.slide.onvideostop",d(v,"html5",e.data()))),punchgs.TweenLite.to(e.find(".tp-videoposter"),.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(e.find("video"),.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut});var t=e.find(".tp-vid-play-pause")[0],a=e.find(".tp-vid-mute")[0];void 0!=t&&(t.innerHTML="Pause"),void 0!=a&&v.muted&&(a.innerHTML="Unmute")}),o(v,"pause",function(){e.find(".tp-videoposter").length>0&&"on"==e.data("showcoveronpause")&&!e.hasClass("seekbardragged")&&(punchgs.TweenLite.to(e.find(".tp-videoposter"),.3,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(e.find("video"),.3,{autoAlpha:0,ease:punchgs.Power3.easeInOut})),e.removeClass("videoisplaying"),n.videoplaying=!1,p(e,n),n.c.trigger("starttimer"),n.c.trigger("revolution.slide.onvideostop",d(v,"html5",e.data()));var t=e.find(".tp-vid-play-pause")[0];void 0!=t&&(t.innerHTML="Play")}),o(v,"ended",function(){p(e,n),n.videoplaying=!1,p(e,n),n.c.trigger("starttimer"),n.c.trigger("revolution.slide.onvideostop",d(v,"html5",e.data())),1==e.data("nextslideatend")&&n.c.revnext(),e.removeClass("videoisplaying")})},s=function(e,t){void 0==t.playingvideos&&(t.playingvideos=new Array),e.data("stopallvideos")&&void 0!=t.playingvideos&&t.playingvideos.length>0&&(t.lastplayedvideos=jQuery.extend(!0,[],t.playingvideos),jQuery.each(t.playingvideos,function(e,i){a.stopVideo(i,t)})),t.playingvideos.push(e)},p=function(e,t){void 0!=t.playingvideos&&t.playingvideos.splice(jQuery.inArray(e,t.playingvideos),1)}}(jQuery);